# netty basic knowledge

- netty 是一个提供了易于使用的 API 的客户端/服务器框架

- 并发高 - NIO (非阻塞IO)

- 传输快 - 零拷贝

  

  适合开发具有自定协议客户端服务端的网络应用

  ## 环境相关

  使用netty4.1 需求jdk-1.8

  ## 阻塞和非阻塞

  定义: 线程在访问资源时，该资源是否准备就绪的一种处理方式,如果该资源没有准备就绪，则会出现两种处理方式： 

  1. 阻塞：这个线程会等该资源释放出来，处理完成返回结果　
  2. 非阻塞：会直接返回结果，然后去请求别的资源

  ## 同步和异步

  同步和异步是指数据访问的一种机制

  ## BIO

  同步阻塞IO，Block IO

  使用方便，简单，但是并发处理能力较低，访问资源耗时久，当客户端数量增加，服务端会频繁的创建和销毁线程，会消耗大量的服务端资源。回来改进为使用线程池构成伪异步IO

  ## NIO

  同步非阻塞IO, NEW IO(Non-Block IO)

  ### selector

  多路复用器，一个会主动轮循线程，在客户端和服务端建立连接时，会注册，通过和selector注册，形成一个channel，是一个单线程，一个线程可以处理成千上万个客户端，线程开销小，客户端的增多不会影响性能

  ### buffer

  处理数据读写

  ### channel

  channel是客户端和selector的连接形成的通道，通过channel注册到selector。数据的读写通过buffer，是非阻塞的读取，如果没有数据则会跳过。

  ### 理解

  相当于是一个读取的工具，每一个客户端都是一个单独的channel，每一个服务端都有一个selector。buffer里面的数据用于读写。数据读完后还会存在buffer中，不会因为读取之后就消失。

  ## AIO( NIO 2.0 )

  ~~异步阻塞IO~~:　无用

  - 异步非阻塞IO：如果资源未准备好则可以去干别的，如果资源释放会主动通知。与NIO不同的地方是NIO会主动去看时候有资源释放，而AIO是接受资源释放的通知，在未获取资源时可以处理其他的工作。

  - 从NIO原本的基础上引入的一个异步的概念，在读写是返回的所有类型都是一个Future对象。Future模型是一个异步的，内部具有事件监听。

  ### 面试问题

  - BIO　NIO　AIO的区别是什么？

  - 什么是同步阻塞的BIO？

  - 什么是同步非阻塞的NIO？

  - 什么是异步非阻塞的AIO？

    

    

    

  

  
